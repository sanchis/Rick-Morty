import{R as e,r as t,a as r,L as n,b as c,c as o,d as a}from"./vendor.afde6a51.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const s=e.createContext({});function i({children:r}){const[n,c]=t.exports.useState([]),[o,a]=t.exports.useState([]);return e.createElement(s.Provider,{value:{characters:n,setCharacters:c,charactersRequestInfo:o,setCharactersRequestInfo:a}},r)}function l(e){return r.get(`${e||"https://rickandmortyapi.com/api/character"}`).then((e=>e.data))}function u(e){const[n,c]=t.exports.useState(!1),[o,a]=t.exports.useState(),{characters:i}=t.exports.useContext(s);return t.exports.useEffect((()=>{if(!e)return;const t=i.find((t=>t.id===Number(e)));t?a(t):(c(!0),function(e){return r.get(`https://rickandmortyapi.com/api/character/${e}`).then((e=>e.data))}(e).then(a).finally((()=>c(!1))))}),[]),{character:o,loading:n}}function f({id:t}){const{character:r}=u(t);return e.createElement("div",null,t,JSON.stringify(r))}function d(){const{characters:r,moveNext:c,movePrev:o}=function(){const[e,r]=t.exports.useState(!1),{characters:n,setCharacters:c,charactersRequestInfo:o,setCharactersRequestInfo:a}=t.exports.useContext(s);return t.exports.useEffect((()=>{r(!0),l().then((e=>{a(e.info),c(e.results)})).finally((()=>r(!1)))}),[]),{characters:n,loading:e,moveNext:function(){l(o.next).then((e=>{a(e.info),c(e.results)})).finally((()=>r(!1)))},movePrev:function(){l(o.prev).then((e=>{a(e.info),c(e.results)})).finally((()=>r(!1)))},canMoveNext:null!==o.next,canMovePrev:null!==o.prev}}();return t.exports.useEffect((()=>{}),[]),e.createElement(e.Fragment,null,r.map((t=>e.createElement(n,{href:`/character/${t.id}`,key:t.id},t.name))),e.createElement("button",{onClick:o},"Prev"),e.createElement("button",{onClick:c},"Next"))}function m(){return e.createElement(i,null,e.createElement(c,{base:"/Rick-Morty"},e.createElement(o,{path:"/",component:d}),e.createElement(o,{path:"/character/:id"},(t=>e.createElement(f,{id:t.id})))))}a.render(e.createElement(e.StrictMode,null,e.createElement(m,null)),document.getElementById("root"));
