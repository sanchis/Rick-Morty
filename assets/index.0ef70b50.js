var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,a=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n;"undefined"!=typeof require&&require;import{a as c,R as l,r as o,j as i,L as s,b as u,c as m,d}from"./vendor.3156bfc8.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const f=l.createContext({});function p({children:e}){const[t,r]=o.exports.useState([]),[n,a]=o.exports.useState(1),[i,s]=o.exports.useState(""),[u,m]=o.exports.useState(!1),[d,p]=o.exports.useState();return o.exports.useEffect((()=>{var e,t;u||(m(!0),(e=i,t=n,c.get("https://rickandmortyapi.com/api/character",{params:{name:e,page:t}}).then((e=>e.data))).then((e=>{p(e.info),r(e.results)})).catch((()=>{p(null),r([])})).finally((()=>m(!1))),console.log(i,n))}),[i,n]),l.createElement(f.Provider,{value:{characters:t,filter:i,setFilter:s,charactersRequestInfo:d,loading:u,setCurrentPage:a}},e)}function g(e){const[t,r]=o.exports.useState(!1),[n,a]=o.exports.useState(),{characters:l}=o.exports.useContext(f);return o.exports.useEffect((()=>{if(!e)return;const t=l.find((t=>t.id===Number(e)));t?a(t):(r(!0),function(e){return c.get(`https://rickandmortyapi.com/api/character/${e}`).then((e=>e.data))}(e).then(a).finally((()=>r(!1))))}),[]),{character:n,loading:t}}function v({id:e}){const{character:t}=g(e);return l.createElement("div",null,e,JSON.stringify(t))}function h(){const{characters:e,filter:t,setFilter:r,charactersRequestInfo:n,loading:a,setCurrentPage:c}=o.exports.useContext(f);const l=o.exports.useCallback(i((e=>r(e)),300),[]);return{characters:e,loading:a,moveNext:function(){c((e=>e+1))},movePrev:function(){c((e=>e-1))},canMoveNext:(null==n?void 0:n.next)&&!a,canMovePrev:(null==n?void 0:n.prev)&&!a,findCharacters:l,filter:t}}var E="_button_glpbe_1";function _(e){var c=e,{children:o,className:i}=c,s=((e,a)=>{var c={};for(var l in e)r.call(e,l)&&a.indexOf(l)<0&&(c[l]=e[l]);if(null!=e&&t)for(var l of t(e))a.indexOf(l)<0&&n.call(e,l)&&(c[l]=e[l]);return c})(c,["children","className"]);return l.createElement(l.Fragment,null,l.createElement("button",((e,c)=>{for(var l in c||(c={}))r.call(c,l)&&a(e,l,c[l]);if(t)for(var l of t(c))n.call(c,l)&&a(e,l,c[l]);return e})({className:`${E} ${null!=i?i:""}`},s),o))}var y="_paginatorContainer_f3gpv_1",x="_paginatorButtons_f3gpv_6";function N(){const{moveNext:e,movePrev:t,canMoveNext:r,canMovePrev:n}=h();return l.createElement("div",{className:y},l.createElement(_,{className:x,onClick:t,disabled:!n},"Prev"),l.createElement(_,{className:x,onClick:e,disabled:!r},"Next"))}var b="_input_8qizq_1",C="_containerFilter_8qizq_36";function S(){const{findCharacters:e,filter:t}=h(),[r,n]=o.exports.useState(t);return console.log("me cambio"),l.createElement("div",{className:C},l.createElement("input",{placeholder:"Search name",type:"text",value:r,className:b,onChange:t=>{e(t.target.value),n(t.target.value)}}),l.createElement(N,null))}var P="_characterItem_1vyn5_1",O="_characterInfo_1vyn5_24";function q({character:e}){return l.createElement(l.Fragment,null,l.createElement("div",null,l.createElement(s,{href:`/character/${e.id}`,className:P},l.createElement("img",{src:e.image,alt:e.name,loading:"lazy"}),l.createElement("div",{className:O},l.createElement("h2",null,e.name),l.createElement("span",{className:"subTitle"},e.status," - ",e.species),l.createElement("p",null,l.createElement("strong",null,"Location:")," ",e.location.name),l.createElement("p",null,l.createElement("strong",null,"Origin:")," ",e.origin.name)))))}var k="_listCharacter_qid7z_1";var I="_loadingImage_149r2_1",F="_loadingContainer_149r2_9";function M({children:e,show:t}){const r=l.createElement("div",{className:F},l.createElement("img",{src:"img/loading.gif",className:I}));return l.createElement(l.Fragment,null,t?r:e)}function j(){const{characters:e,loading:t}=h();return l.createElement(l.Fragment,null,l.createElement(S,null),l.createElement(M,{show:t},l.createElement("div",{className:k},e.map((e=>l.createElement(q,{key:e.id,character:e})))),l.createElement(N,null)))}function w(){return l.createElement(p,null,l.createElement("div",{className:"container"},l.createElement("header",null,l.createElement("img",{src:"img/logo.png"})),l.createElement(u,{base:"/Rick-Morty"},l.createElement(m,{path:"/",component:j}),l.createElement(m,{path:"/character/:id"},(e=>l.createElement(v,{id:e.id}))))))}d.render(l.createElement(l.StrictMode,null,l.createElement(w,null)),document.getElementById("root"));
