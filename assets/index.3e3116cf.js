var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,i=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&c(e,r,t[r]);if(n)for(var r of n(t))o.call(t,r)&&c(e,r,t[r]);return e},s=("undefined"!=typeof require&&require,(e,t)=>{var r={};for(var c in e)a.call(e,c)&&t.indexOf(c)<0&&(r[c]=e[c]);if(null!=e&&n)for(var c of n(e))t.indexOf(c)<0&&o.call(e,c)&&(r[c]=e[c]);return r});import{R as l,r as u,a as m,u as d,B as f,F as p,S as h,I as g,H as y,T as b,b as x,c as E,j as v,d as w,e as S,G as C,L as k,m as P,f as M,w as j,C as L,g as O,h as N,i as I,k as T}from"./vendor.4fbf6fc4.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const F=l.createContext({});function R({children:e}){const[t,r]=u.exports.useState([]),[n,a]=u.exports.useState(),[o,c]=u.exports.useState(!1),[i,s]=u.exports.useState(1),[m,d]=u.exports.useState("");return l.createElement(F.Provider,{value:{filter:m,setFilter:d,page:i,setPage:s,characters:t,setCharacters:r,requestInfo:n,setRequestInfo:a,loading:o,setLoading:c}},e)}function q(e){const[t,r]=u.exports.useState(!1),[n,a]=u.exports.useState(),{characters:o}=u.exports.useContext(F);return u.exports.useEffect((()=>{if(!e)return;const t=o.find((t=>t.id===Number(e)));t?a(t):(r(!0),function(e){return m.get(`https://rickandmortyapi.com/api/character/${e}`).then((e=>e.data))}(e).then(a).finally((()=>r(!1))))}),[]),{character:n,loading:t}}function B(e){const t=e,{variant:r,children:n}=t,a=s(t,["variant","children"]),o=d("Card",{variant:r});return l.createElement(f,i({__css:o},a),n)}function $(e){var n=e,{character:a,flexDirection:o}=n,c=s(n,["character","flexDirection"]);const[m,d]=u.exports.useState(!1);return l.createElement(l.Fragment,null,l.createElement(B,(x=i({},c),t(x,r({boxShadow:"xl"}))),l.createElement(p,{direction:null!=o?o:["row","row","column","column","column"]},l.createElement(h,{alignSelf:"center",size:["100","100","300"],hidden:m}),l.createElement(g,{src:a.image,maxW:["30%","30%","100%"],maxH:"300px",objectFit:"cover",objectPosition:"top",alt:a.name,hidden:!m,onLoad:()=>d(!0)}),l.createElement(f,{p:"2",overflow:"hidden"},l.createElement(y,{as:"h2",size:"lg",isTruncated:!0},a.name),l.createElement(b,{variant:"subTitle",isTruncated:!0},a.status," - ",a.gender," ",a.species),l.createElement(b,{isTruncated:!0},l.createElement(b,{as:"span",variant:"hightLight"},"Location: "),a.location.name),l.createElement(b,{isTruncated:!0},l.createElement(b,{as:"span",variant:"hightLight"},"Origin: "),a.origin.name),l.createElement(b,{as:"span",variant:"hightLight"},"Created: "),l.createElement(b,{as:"span"}," ",function(e){const t=new Date(e);return`${t.getDate()}/${t.getMonth()}/${t.getFullYear()} \n      ${t.getHours()}:${t.getMinutes()}`}(a.created))))));var x}function D({id:e}){const{character:t}=q(e),[,r]=x();return l.createElement(l.Fragment,null,l.createElement(B,{my:"2",p:"2"},l.createElement(p,{justifyContent:"space-between",direction:["column","column","row","row"]},l.createElement(E,{my:["1","1","0"],onClick:()=>r("/")},"Back to the list"),l.createElement(p,{justifyContent:"space-between",direction:["column","column","row","row"]},l.createElement(E,{my:["1","1","0"],mx:"1"},"Move prev character"),l.createElement(E,{my:["1","1","0"],mx:"1"},"Move next character")))),t?l.createElement($,{character:t,flexDirection:"row"}):null)}function W(){const{page:e,filter:t,characters:r,setCharacters:n,setRequestInfo:a,setLoading:o}=u.exports.useContext(F);return u.exports.useEffect((()=>{o(!0),function(e,t){return m.get("https://rickandmortyapi.com/api/character",{params:{name:e,page:t}}).then((e=>e.data))}(t,e).then((e=>{n(e.results),a(e.info)})).catch((()=>{n([]),a()})).finally((()=>o(!1)))}),[e,t]),{characters:r}}function _(){const{requestInfo:e,filter:t,setPage:r,setFilter:n,loading:a}=u.exports.useContext(F);function o(){return(null==e?void 0:e.next)&&!a}function c(){return(null==e?void 0:e.prev)&&!a}return{canMoveNext:o,canMovePrev:c,moveNext:function(){o()&&r((t=>e.next?t+1:t))},movePrev:function(){c()&&r((t=>e.prev?t-1:t))},filter:t,findByName:u.exports.useCallback(v((e=>n(e)),500),[])}}function H(){const{moveNext:e,movePrev:t,canMoveNext:r,canMovePrev:n}=_();return l.createElement(w,{colorScheme:"primary",spacing:"1",mx:"1"},l.createElement(E,{onClick:t,disabled:!n()},"Prev"),l.createElement(E,{onClick:e,disabled:!r()},"Next"))}function z(){const{findByName:e,filter:t}=_(),[r,n]=u.exports.useState(t);return u.exports.useEffect((()=>{e(r)}),[r]),l.createElement(B,{boxShadow:"xl",my:"2",p:"2"},l.createElement(p,{direction:"row"},l.createElement(S,{placeholder:"Search by name",type:"text",onChange:e=>n(e.target.value),value:r}),l.createElement(H,null)))}function A(){const{characters:e}=W();return l.createElement(l.Fragment,null,l.createElement(z,null),l.createElement(C,{templateColumns:"repeat(auto-fill, minmax(346px, 1fr))",gap:6,alignItems:"center"},e.map((e=>l.createElement(k,{href:`/character/${e.id}`,key:e.id},l.createElement($,{character:e,cursor:"pointer",_hover:{transform:"scale(1.1)"},transition:"0.1s ease-in-out"}))))),l.createElement(B,{w:"100%",p:"2",my:"2",display:"flex",boxShadow:"xl",justifyContent:"center"},l.createElement(H,null)))}var G=M({styles:{global:e=>({"*, *::before, &::after":{borderColor:"primary.600",wordWrap:"break-word"},body:{bg:P('white url("/Rick-Morty/assets/bg.f3a866fa.jpg") repeat fixed center','white url("/Rick-Morty/assets/bg-dark.fbd9a3a7.jpg") repeat fixed center;')(e)}})},colors:{primary:{50:"#d8fff8",100:"#acfff9",200:"#7dfffc",300:"#4dfcff",400:"#27f2fe",500:"#17d2e5",600:"#009eb3",700:"#007a81",800:"#004f4f",900:"#001e1d"},secondary:{50:"#eefbe2",100:"#d9eebf",200:"#c4e19b",300:"#afd575",400:"#9ec94f",500:"#7cb036",600:"#5a8928",700:"#3b621b",800:"#1e3b0d",900:"#051500"}},config:{initialColorMode:"light",useSystemColorMode:!1},components:{Input:{defaultProps:{focusBorderColor:"secondary.600"}},Card:{baseStyle:e=>({borderWidth:"5px",borderColor:"primary.600",borderRadius:"lg",background:P("gray.50","gray.800")(e)})},Button:{defaultProps:{colorScheme:"primary"},variants:{solid:{bg:"primary.600",_hover:{bg:"primary.500"}}}},Tooltip:{baseStyle:{color:"secondary.500"}},Text:{variants:{subTitle:{fontWeight:"bold",color:"gray.500"},hightLight:{fontWeight:"bold",color:"secondary.500"}}}}},j({colorScheme:"primary"}));const K=()=>window.location.hash.replace(/^#/,"")||"/",Y=e=>window.location.hash=e,J=()=>{const[e,t]=u.exports.useState(K());return u.exports.useEffect((()=>{const e=()=>t(K());return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)}),[]),[e,Y]};function Q(){return l.createElement(L,{theme:G},l.createElement(R,null,l.createElement(O,{maxW:"container.xl"},l.createElement("header",null,l.createElement(g,{margin:"auto",src:"/Rick-Morty/assets/logo.6e31b249.png"})),l.createElement(N,{base:"/Rick-Morty",hook:J},l.createElement(I,{path:"/",exact:!0,component:A}),l.createElement(I,{path:"/character/:id"},(e=>l.createElement(D,{id:e.id})))))))}T.render(l.createElement(l.StrictMode,null,l.createElement(Q,null)),document.getElementById("root"));
