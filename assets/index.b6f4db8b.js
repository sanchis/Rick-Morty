var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,c=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,l=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&c(e,r,t[r]);if(n)for(var r of n(t))o.call(t,r)&&c(e,r,t[r]);return e},i=("undefined"!=typeof require&&require,(e,t)=>{var r={};for(var c in e)a.call(e,c)&&t.indexOf(c)<0&&(r[c]=e[c]);if(null!=e&&n)for(var c of n(e))t.indexOf(c)<0&&o.call(e,c)&&(r[c]=e[c]);return r});import{R as s,r as m,a as u,u as d,b as f,B as p,F as h,S as g,I as E,H as b,T as x,c as y,d as v,A as w,e as C,f as S,j as k,g as P,h as M,G as N,L as j,m as I,i as L,w as O,C as F,k as R,l as T,n as $,o as q,p as B}from"./vendor.80b41e30.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const W=s.createContext({});function D({children:e}){const[t,r]=m.exports.useState([]),[n,a]=m.exports.useState(),[o,c]=m.exports.useState(!1),[l,i]=m.exports.useState(1),[u,d]=m.exports.useState("");return s.createElement(W.Provider,{value:{filter:u,setFilter:d,page:l,setPage:i,characters:t,setCharacters:r,requestInfo:n,setRequestInfo:a,loading:o,setLoading:c}},e)}function z(e){const[t,r]=m.exports.useState(!0),[n,a]=m.exports.useState(),[,o]=d(),{characters:c}=m.exports.useContext(W);return m.exports.useEffect((()=>{if(!e)return;const t=c.find((t=>t.id===Number(e)));t?(r(!1),a(t)):(r(!0),function(e){return u.get(`https://rickandmortyapi.com/api/character/${e}`).then((e=>e.data))}(e).then(a).catch((()=>o("/error/404"))).finally((()=>r(!1))))}),[e]),{character:n,loading:t,moveNextCharacter:function(){o(`/character/${Number(e)+1}`)},movePrevCharacter:function(){o(`/character/${Number(e)-1==0?e:Number(e)-1}`)}}}function A(e){const t=e,{variant:r,children:n}=t,a=i(t,["variant","children"]),o=f("Card",{variant:r});return s.createElement(p,l({__css:o},a),n)}function _(e){var n=e,{character:a,flexDirection:o}=n,c=i(n,["character","flexDirection"]);const[u,d]=m.exports.useState(!1);return s.createElement(s.Fragment,null,s.createElement(A,(f=l({},c),t(f,r({boxShadow:"xl"}))),s.createElement(h,{direction:null!=o?o:["row","row","column","column","column"]},s.createElement(g,{alignSelf:"center",size:["100","100","300"],hidden:u}),s.createElement(E,{src:a.image,maxW:["30%","30%","100%"],maxH:"300px",objectFit:"cover",objectPosition:"top",alt:a.name,hidden:!u,onLoad:()=>d(!0)}),s.createElement(p,{p:"2",overflow:"hidden"},s.createElement(b,{as:"h2",size:"lg",isTruncated:!0},a.name),s.createElement(x,{variant:"subTitle",isTruncated:!0},a.status," - ",a.gender," ",a.species),s.createElement(x,{isTruncated:!0},s.createElement(x,{as:"span",variant:"hightLight"},"Location:"," "),a.location.name),s.createElement(x,{isTruncated:!0},s.createElement(x,{as:"span",variant:"hightLight"},"Origin:"," "),a.origin.name),s.createElement(x,{as:"span",variant:"hightLight"},"Created:"," "),s.createElement(x,{as:"span"}," ",function(e){const t=new Date(e);return`${t.getDate()}/${t.getMonth()}/${t.getFullYear()} \n      ${t.getHours()}:${t.getMinutes()}`}(a.created))))));var f}function H({show:e,children:t}){return s.createElement(s.Fragment,null,e?s.createElement(A,{p:"5",textAlign:"center"},s.createElement(y,{thickness:"5px",size:"xl",color:"secondary.500"})):t)}function G({id:e}){const{character:t,moveNextCharacter:r,movePrevCharacter:n,loading:a}=z(e),[,o]=d();return s.createElement(s.Fragment,null,s.createElement(A,{my:"2",p:"2"},s.createElement(h,{justifyContent:"space-between",direction:["column","column","row","row"]},s.createElement(v,{leftIcon:s.createElement(w,null),my:["1","1","0"],onClick:()=>o("/")},"Back to the list"),s.createElement(h,{justifyContent:"space-between",direction:["column","column","row","row"]},s.createElement(v,{onClick:n,disabled:a,leftIcon:s.createElement(C,null),my:["1","1","0"],mx:"1"},"Move prev character"),s.createElement(v,{onClick:r,disabled:a,rightIcon:s.createElement(S,null),my:["1","1","0"],mx:"1"},"Move next character")))),s.createElement(H,{show:a},s.createElement(_,{character:t,flexDirection:"row"})))}function K(){const{page:e,filter:t,characters:r,setCharacters:n,setRequestInfo:a,setLoading:o}=m.exports.useContext(W);return m.exports.useEffect((()=>{o(!0),function(e,t){return u.get("https://rickandmortyapi.com/api/character",{params:{name:e,page:t}}).then((e=>e.data))}(t,e).then((e=>{n(e.results),a(e.info)})).catch((()=>{n([]),a()})).finally((()=>o(!1)))}),[e,t]),{characters:r}}function Y(){const{requestInfo:e,filter:t,setPage:r,setFilter:n,loading:a}=m.exports.useContext(W);function o(){return(null==e?void 0:e.next)&&!a}function c(){return(null==e?void 0:e.prev)&&!a}return{canMoveNext:o,canMovePrev:c,moveNext:function(){o()&&r((t=>e.next?t+1:t))},movePrev:function(){c()&&r((t=>e.prev?t-1:t))},filter:t,findByName:m.exports.useCallback(k((e=>n(e)),500),[])}}function J(){const{moveNext:e,movePrev:t,canMoveNext:r,canMovePrev:n}=Y();return s.createElement(P,{colorScheme:"primary",spacing:"1",mx:"1"},s.createElement(v,{leftIcon:s.createElement(C,null),onClick:t,disabled:!n()},"Prev"),s.createElement(v,{rightIcon:s.createElement(S,null),onClick:e,disabled:!r()},"Next"))}function Q(){const{findByName:e,filter:t}=Y(),[r,n]=m.exports.useState(t);return m.exports.useEffect((()=>{e(r)}),[r]),s.createElement(A,{boxShadow:"xl",my:"2",p:"2"},s.createElement(h,{direction:"row"},s.createElement(M,{placeholder:"Search by name",type:"text",onChange:e=>n(e.target.value),value:r}),s.createElement(J,null)))}function U(){const{characters:e,loading:t}=K();return s.createElement(s.Fragment,null,s.createElement(Q,null),s.createElement(H,{show:t},s.createElement(N,{templateColumns:"repeat(auto-fill, minmax(346px, 1fr))",gap:6,alignItems:"center"},e.map((e=>s.createElement(j,{href:`/character/${e.id}`,key:e.id},s.createElement(_,{character:e,cursor:"pointer",_hover:{transform:"scale(1.1)"},transition:"0.1s ease-in-out"})))))),s.createElement(A,{w:"100%",p:"2",my:"2",display:"flex",boxShadow:"xl",justifyContent:"center"},s.createElement(J,null)))}var V=L({styles:{global:e=>({"*, *::before, &::after":{borderColor:"primary.600",wordWrap:"break-word"},body:{bg:I('white url("/Rick-Morty/assets/bg.f3a866fa.jpg") repeat fixed center','white url("/Rick-Morty/assets/bg-dark.fbd9a3a7.jpg") repeat fixed center;')(e)}})},colors:{primary:{50:"#d8fff8",100:"#acfff9",200:"#7dfffc",300:"#4dfcff",400:"#27f2fe",500:"#17d2e5",600:"#009eb3",700:"#007a81",800:"#004f4f",900:"#001e1d"},secondary:{50:"#eefbe2",100:"#d9eebf",200:"#c4e19b",300:"#afd575",400:"#9ec94f",500:"#7cb036",600:"#5a8928",700:"#3b621b",800:"#1e3b0d",900:"#051500"}},config:{initialColorMode:"light",useSystemColorMode:!1},components:{Input:{defaultProps:{focusBorderColor:"secondary.600"}},Card:{baseStyle:e=>({borderWidth:"5px",borderColor:"primary.600",borderRadius:"lg",background:I("gray.50","gray.800")(e)})},Button:{defaultProps:{colorScheme:"primary"},variants:{solid:{bg:"primary.600",_hover:{bg:"primary.500"}}}},Tooltip:{baseStyle:{color:"secondary.500"}},Text:{variants:{subTitle:{fontWeight:"bold",color:"gray.500"},hightLight:{fontWeight:"bold",color:"secondary.500"}}}}},O({colorScheme:"primary"}));const X=()=>window.location.hash.replace(/^#/,"")||"/",Z=e=>window.location.hash=e,ee=()=>{const[e,t]=m.exports.useState(X());return m.exports.useEffect((()=>{const e=()=>t(X());return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)}),[]),[e,Z]};function te({code:e,message:t}){return s.createElement(s.Fragment,null,s.createElement(A,{p:"5"},s.createElement(b,{textAlign:"center",fontWeight:"light",as:"h1",size:"4xl",fontStyle:"italic"},e),s.createElement(E,{my:"5",borderRadius:"2xl",mx:"auto",src:"/Rick-Morty/assets/error.2b1fcbfd.gif",alt:e})))}function re(){return s.createElement(F,{theme:V},s.createElement(D,null,s.createElement(R,{maxW:"container.xl"},s.createElement("header",null,s.createElement(E,{margin:"auto",src:"/Rick-Morty/assets/logo.6e31b249.png"})),s.createElement(T,{base:"/Rick-Morty",hook:ee},s.createElement($,null,s.createElement(q,{path:"/",component:U}),s.createElement(q,{path:"/character/:id"},(e=>s.createElement(G,{id:e.id}))),s.createElement(q,{path:"/error/:code"},(e=>s.createElement(te,{code:e.code}))),s.createElement(q,null,(()=>s.createElement(te,{code:"404"}))))))))}B.render(s.createElement(s.StrictMode,null,s.createElement(re,null)),document.getElementById("root"));
